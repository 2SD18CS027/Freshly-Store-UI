<html ng-app="the-freshly-store-delivery-associate">
  <link rel="shortcut icon" type="image/x-icon" href="../main-logo.ico"/>
  <head>
    <title>The Freshly Store</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0//angular-route.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.1/css/bulma.min.css">
    <link rel="stylesheet" href="../stylesheets/index.css">
  </head>

  <body style="margin-left:10px; margin-right:10px;" ng-controller="delivery-associate-controller">
    <div id="loader" class="spinner" style="display:none;">
      <img src="../3120432.gif">
    </div>
    <div ng-view></div>
    <div id="cartItemsDiv" class="columns is-variable bd-klmn-columns is-3 is-multiline"
    style="margin-left:5px; margin-right:5px; margin-top:10px;">
      <div class="column is-3" ng-repeat="order in orders">
        <div class="box">
          <div id="orderDetails-{{order.orderId}}">
            <center><b>Order No : {{order.customerOrderId}}</b></center>
            <div class="float-left">
              {{order.name}} <br />
              {{order.mobileNumber}}
            </div>
            <div class="float-right">
              {{order.fromSlotTime | date : 'EEEE'}} {{order.fromSlotTime | date : 'mediumDate'}} <br />
              {{order.fromSlotTime | date : 'HH:mm'}} - {{order.toSlotTime | date : 'HH:mm' }}
            </div>
            <br style="clear:both; /">
            <br style="clear:both; /">
            {{order.address}}<br />
            <center>
              <i class="fa fa-map-marker-alt"></i> <b>{{order.area}}</b>
            </center><br />
            <div class="button float-left secondary-color-background" ng-click="displayOrderItems(order.orderId)">View Items</div>
            <div ng-if="order.status == 3" class="button float-right main-color-background" ng-click="deliveryOrder(order)">Delivery Order</div>
            <div ng-if="order.status == 4" class="button float-right main-color-background">Delivered! &nbsp; <i class="fa fa-check-circle"></i></div>
            <br style="clear:both; /">
          </div>
          <div id="itemDetails-{{order.orderId}}" style="display:none;">
            <center>
            <table style="border-collapse: collapse; border: 1px solid black; padding : 5px 5px 5px 5px;">
              <tr ng-repeat="item in order.items" style="border: 1px solid black; padding : 5px 5px 5px 5px;">
                <td style="border: 1px solid black; padding : 5px 5px 5px 5px;">{{item.name}}</td>
                <td style="border: 1px solid black; padding : 5px 5px 5px 5px;">{{item.uom}}</td>
                <td style="border: 1px solid black; padding : 5px 5px 5px 5px;">{{item.quantity}}</td>
              </tr>
            </table>
            <br />
            <div class="button secondary-color-background" ng-click="displayOrder(order.orderId)">View Order</div>
          </center>

          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<script type="text/javascript" src="../js/RestURLs.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/service.js"></script>
<script type="text/javascript" src="js/delivery-associate-controller.js"></script>
<script type="text/javascript" src="js/delivery-associate-login-controller.js"></script>
